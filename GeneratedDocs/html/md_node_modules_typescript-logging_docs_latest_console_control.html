<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EOSDAC: Console logging control</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EOSDAC
   </div>
   <div id="projectbrief">Open source decentralised DAC platform for EOSIO blockchains</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_node_modules_typescript-logging_docs_latest_console_control.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Console logging control </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This page describes how the logging can be controlled dynamically using the console. There are two 'controls':</p><ul>
<li>log4j console control</li>
<li>categorized console control</li>
</ul>
<p>Please see the sections below for details.</p>
<p>The standard typescript-logging bundle exposes a variable called TSL, on which to start.</p>
<p>This variables exposes several functions to call:</p><ul>
<li>help()</li>
<li>getLogControl()</li>
<li>getCategoryControl()</li>
</ul>
<p><em>The help provided by the logging objects is leading always, and should be consulted for more details!</em></p>
<p><b>Webpack users read this first</b>: To use the console api when webpack bundles your stuff, see <a href="#expose-console-control-api-with-webpack">below</a>.</p>
<h1><a class="anchor" id="autotoc_md4409"></a>
Log4j console control</h1>
<p>This can be used if your application uses the log4j style of logging.</p>
<p>The log4j control object can be retrieved by: </p><div class="fragment"><div class="line">let control = TSL.getLogControl();</div>
</div><!-- fragment --><p>This provides you access to the control object for log4j. This object provides several functions, but the most important ones for you to start with are:</p>
<div class="fragment"><div class="line">control.help();</div>
<div class="line">control.listFactories();</div>
</div><!-- fragment --><p>The first provides help on all functions available, and the listFactories() provides an overview of all registered LoggerFactories.</p>
<p>The example below changes the the log level for all LogGroups within a LoggerFactory (through browser console e.g.):</p>
<div class="fragment"><div class="line">let control = TSL.getLogControl();</div>
<div class="line"> </div>
<div class="line">// Factories are numbered, use listFactories() to find out</div>
<div class="line">let factoryControl = control.getLoggerFactoryControl(1);</div>
<div class="line"> </div>
<div class="line">// Change the loglevel for all LogGroups for this factory to Debug (so all existing/new loggers from this factory will log to Debug)</div>
<div class="line">factoryControl.change({group: &quot;all&quot;, logLevel: &quot;Debug&quot;});</div>
<div class="line"> </div>
<div class="line">// Resets everything (all LogGroups) back to their original settings, before our changes.</div>
<div class="line">factoryControl.reset();  // or factory.reset(&quot;all&quot;)</div>
</div><!-- fragment --><p>Always use the help() on the objects for more details.</p>
<p>Detailed documentation can be found in the docs.zip that can be downloaded from the main page, in particular you want to look at the LogGroupControl and LoggerFactory classes.</p>
<h1><a class="anchor" id="autotoc_md4410"></a>
Categorized console control</h1>
<p>This can be used if your application uses the categorized style of logging.</p>
<p>The categorized control object can be retrieved by: </p><div class="fragment"><div class="line">let control = TSL.getCategoryControl();</div>
</div><!-- fragment --><p>This provides you access to the control object for categories. This object provides several functions, but the most important ones for you to start with are:</p>
<div class="fragment"><div class="line">control.help();</div>
<div class="line">control.showSettings();</div>
</div><!-- fragment --><p>Help provides an overview of available functions and how to use them. The change function allows you to change the settings for categories.</p>
<p>The example below changes the log levels for categories. </p><div class="fragment"><div class="line">let control = TSL.getCategoryControl();</div>
<div class="line"> </div>
<div class="line">// Change all root categories recursively (so include childs), and the loglevel to Debug (so all existing/new loggers will log on Debug)</div>
<div class="line">control.change({category: &quot;all&quot;, recursive:true, logLevel: &quot;Debug&quot;});</div>
<div class="line"> </div>
<div class="line">// Change category 1, not it&#39;s childs and set the loglevel to warn. Use control.showSettings() to list available categories.</div>
<div class="line">control.change({category: 1, recursive:false, logLevel: &quot;Warn&quot;});</div>
<div class="line"> </div>
<div class="line">// Resets everything back to original settings, before the changes.</div>
<div class="line">control.reset();</div>
</div><!-- fragment --><p>Always use the help() on the objects for more details.</p>
<p>Detailed documentation can be found in the docs.zip that can be downloaded from the main page, in particular you want to look at the CategoryServiceControl class.</p>
<h1><a class="anchor" id="autotoc_md4411"></a>
Expose Console control API with webpack</h1>
<p>If you use the normal bundle, it will already be exposed by the TSL variable (see above). However if you use webpack for example you need to do something more, since webpack bundles things the TSL variable will not be available anymore.</p>
<p>There are a few ways doing this. Please read the comments in the code.</p>
<h2><a class="anchor" id="autotoc_md4412"></a>
Webpack way</h2>
<div class="fragment"><div class="line">var webpack = require(&quot;webpack&quot;);</div>
<div class="line"> </div>
<div class="line">module.exports = {</div>
<div class="line"> </div>
<div class="line"> // Notice the library part in this case called it LOGGING but you can expose it differently.</div>
<div class="line"> // This packs your current project as library and exposes it as LOGGING, whatever you export from your index.ts (or whatever your main index is),</div>
<div class="line"> // can be accessed through LOGGING here.</div>
<div class="line"> output: {</div>
<div class="line">    libraryTarget: &quot;var&quot;,</div>
<div class="line">    library: &quot;LOGGING&quot;,</div>
<div class="line">    .... // your stuff</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">};</div>
</div><!-- fragment --><p>index.ts </p><div class="fragment"><div class="line">// Your stuff here ...</div>
<div class="line"> </div>
<div class="line">import { help, getLogControl, getCategoryControl } from &quot;typescript-logging&quot;;</div>
<div class="line">export const CNT: any = {</div>
<div class="line">  help: help,</div>
<div class="line">  getLogControl: getLogControl,</div>
<div class="line">  getCategoryControl: getCategoryControl,</div>
<div class="line">};</div>
</div><!-- fragment --><p>In the browser (usage): </p><div class="fragment"><div class="line">LOGGING.CNT.help();</div>
<div class="line">let control = LOGGING.CNT.getLogControl();</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md4413"></a>
Using window object</h2>
<p>The shortest and easiest way, just expose stuff on the window object (this only works in a browser!).</p>
<p>index.ts </p><div class="fragment"><div class="line">import * as logging from &quot;typescript-logging&quot;;</div>
<div class="line"> </div>
<div class="line">// This exposes EVERYTHING typescript-logging exposes, which includes help etc but a lot more you don&#39;t need.</div>
<div class="line">// You could easily filter and only expose help, getLogControl and getCategoryControl</div>
<div class="line">(window as any).LOGGING = logging;</div>
</div><!-- fragment --><p>In the browser (usage): </p><div class="fragment"><div class="line">LOGGING.help();</div>
<div class="line">let control = LOGGING.getLogControl();</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
