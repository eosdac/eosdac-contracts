<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EOSDAC: dacproposals</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EOSDAC
   </div>
   <div id="projectbrief">Open source decentralised DAC platform for EOSIO blockchains</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_dac_contracts_dacproposals_dacproposals_8contracts.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">dacproposals </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1 class="contract">createprop </h1>
<h2><a class="anchor" id="autotoc_md51"></a>
ACTION: createprop</h2>
<p><b>PARAMETERS:</b></p><ul>
<li><b>proposer</b> is an eosio account name.</li>
<li><b>title</b> is a string that provides a title for the proposal.</li>
<li><b>summary</b> is a string that provides a summary for the proposal.</li>
<li><b>arbitrator</b> is an eosio account name for a nominated arbitrator on the proposal.</li>
<li><b>pay_amount</b> is an eosio asset amount representing the requested pay amount for the worker proposal.</li>
<li><b>id</b> is an uint64 to represent the a unique identifer for a new proposal.</li>
<li><b>dac_id</b> is an eosio name the proposal to a specific dac.</li>
<li><b>category</b> is integer to categorise a proposal.</li>
<li><b>content_hash</b> is a string that provides a hash of the details of the proposal.</li>
</ul>
<p><b>INTENT</b> The intent of createprop is to enter a new worker proposal. </p>
<h4><a class="anchor" id="autotoc_md52"></a>
Warning: This action will store the content on the chain in the history logs and the data cannot be deleted later so therefore should only store a unidentifiable hash of content rather than human readable content.</h4>
<h1 class="contract">voteprop </h1>
<h2><a class="anchor" id="autotoc_md53"></a>
ACTION: voteprop</h2>
<p><b>PARAMETERS:</b></p><ul>
<li><b>custodian</b> is an eosio account name.</li>
<li><b>proposal_id</b> is an integer id for an existing proposal for the custodian to vote on.</li>
<li><b>vote</b> is an integer repesenting a vote type on the proposal.</li>
</ul>
<p><b>INTENT:</b> The intent of voteprop is to record a vote on an existing proposal.</p>
<h1 class="contract">delegatevote </h1>
<h2><a class="anchor" id="autotoc_md54"></a>
ACTION: delegatevote</h2>
<p><b>PARAMETERS:</b></p><ul>
<li><b>custodian</b> is an eosio account name.</li>
<li><b>proposal_id</b> is an integer id for an existing proposal for the custodian to vote on.</li>
<li><b>dalegatee_custodian</b> is an eosio account name for a custodian to delegate worker proposal votes to.</li>
</ul>
<p><b>INTENT:</b> The intent of delegatevote is to delegate an active custodian's vote to another custodian because they trust their opinion over their own.</p>
<h1 class="contract">delegatecat </h1>
<h2><a class="anchor" id="autotoc_md55"></a>
ACTION: delegatecat</h2>
<p><b>PARAMETERS:</b></p><ul>
<li><b>custodian</b> is an eosio account name.</li>
<li><b>category</b> is an integer id for an existing category for the custodian to delgate voting power for.</li>
<li><b>dalegatee_custodian</b> is an eosio account name for a custodian to delegate worker proposal votes to.</li>
<li><b>dac_id</b> is an account name representing the DAC for this action</li>
</ul>
<p><b>INTENT:</b> The intent of delegatecat is to delegate an active custodian's vote to another custodian because they trust their opinion over their own for all proposals in a particular category. This will be overriden by a delegation for a specific proposal which would be overriden by a proposal specific vote.</p>
<h1 class="contract">undelegateca </h1>
<h2><a class="anchor" id="autotoc_md56"></a>
ACTION: undelegateca</h2>
<p><b>PARAMETERS:</b></p><ul>
<li><b>custodian</b> is an eosio account name.</li>
<li><b>category</b> is an integer id for an existing category for the custodian to undelgate voting power for.</li>
<li><b>dac_id</b> is an account name representing the DAC for this action</li>
</ul>
<p><b>INTENT:</b> The intent of undelegateca is to remove delegation an active custodian's vote to another custodian for a particular category.</p>
<h1 class="contract">clearexpprop </h1>
<h2><a class="anchor" id="autotoc_md57"></a>
ACTION: clearexpprop</h2>
<p><b>PARAMETERS:</b></p><ul>
<li><b>proposal_id</b> is an integer representing the id for particular proposal.</li>
<li><b>dac_id</b> is an account name representing the DAC for this action</li>
</ul>
<p><b>INTENT:</b> The intent of clearexpprop is to remove an expired proposal. This is only allowed if the proposal has expired.s</p>
<h1 class="contract">updpropvotes </h1>
<h2><a class="anchor" id="autotoc_md58"></a>
ACTION: updpropvotes</h2>
<p><b>PARAMETERS:</b></p><ul>
<li><b>proposal_id</b> is an integer representing the id for particular proposal.</li>
<li><b>dac_id</b> is an account name representing the DAC for this action</li>
</ul>
<p><b>INTENT:</b> The intent of updpropvotes is to update the state on the proposal to indicate if there are enough votes to approve the start of a proposal (status code 3), the finalizing vote of a proposal (status code 4) or if it has expired (status code 5).</p>
<h1 class="contract">updallprops </h1>
<h2><a class="anchor" id="autotoc_md59"></a>
ACTION: updallprops</h2>
<p><b>PARAMETERS:</b></p><ul>
<li><b>dac_id</b> is an account name representing the DAC for this action</li>
</ul>
<p><b>INTENT:</b> The intent of updallprops is to iterate through all the proposals for a given scope and call the <code>updpropvotes</code> action as deferred transactions for each.</p>
<h1 class="contract">arbapprove </h1>
<h2><a class="anchor" id="autotoc_md60"></a>
ACTION: arbapprove</h2>
<p><b>PARAMETERS:</b></p><ul>
<li><b>arbitrator</b> is an eosio account name of the nominated arbitrator for the proposal.</li>
<li><b>proposal_id</b> is an integer id for an existing proposal for the custodian to vote on.</li>
</ul>
<p><b>INTENT:</b> The intent of arbapprove is to cleanup a proposal after the arbitrator has directly approved the escrow in the escrow contract. This cannot perform the approval on the escrow contract without weakening the security integrity of the escrow contract model, since this would require this contract to have the permission for approving an escrow transfer from both the sender and arbitrator's perspective. Since only the escrow contract was intended to be secured from modification then this would be a potential attack vector to the escrow contract.</p>
<h1 class="contract">startwork </h1>
<h2><a class="anchor" id="autotoc_md61"></a>
ACTION: startwork</h2>
<p><b>PARAMETERS:</b></p><ul>
<li><b>proposal_id</b> is an integer id for an existing proposal created by this proposer.</li>
</ul>
<p><b>INTENT:</b> The intent of startwork is to indicate the intention for the proposer to start work on an existing proposal. This action checks that there are enough approval votes from active custodians to approve the proposal and if successful transfers the required amount to an escrow account in preparation for the payment of the worker proposal at the completion of the work.</p>
<h1 class="contract">completework </h1>
<h2><a class="anchor" id="autotoc_md62"></a>
ACTION: completework</h2>
<p><b>PARAMETERS:</b></p><ul>
<li><b>proposal_id</b> is an integer id for an existing proposal created by this proposer.</li>
</ul>
<p><b>INTENT:</b> The intent of completework is to indicate that proposer has completed the work on an existing proposal and intends to claim the agreed payment for work. The proposal is then put in the pending_claim state and will await the custodians approval.</p>
<h1 class="contract">finalize </h1>
<h2><a class="anchor" id="autotoc_md63"></a>
ACTION: finalize</h2>
<p><b>PARAMETERS:</b></p><ul>
<li><b>proposal_id</b> is an integer id for an existing proposal for the proposer to finalize.</li>
</ul>
<p><b>INTENT:</b> The intent of finalize is to trigger the transfer of funds to the worker from the escrow account. Upon successful transfer the proposal will cleaned from the contract table to free up RAM.</p>
<h1 class="contract"><br  />
 cancel </h1>
<h2><a class="anchor" id="autotoc_md64"></a>
ACTION: cancel</h2>
<p><b>PARAMETERS:</b></p><ul>
<li><b>proposal_id</b> is an integer id for an existing proposal for the proposer to cancel.</li>
</ul>
<p><b>INTENT:</b> The intent of cancel is to cancel a proposal.</p>
<h1 class="contract">comment </h1>
<h2><a class="anchor" id="autotoc_md65"></a>
ACTION: comment</h2>
<p>**PARAMETERS:*</p><ul>
<li><b>commenter</b> The commenter eos account name</li>
<li><b>proposal_id</b> is an integer id for an existing proposal for the proposer to comment on.</li>
<li><b>comment</b> The string representing the comment for the proposal</li>
<li><b>comment_category</b> The string for comment category to help categorise comments.</li>
</ul>
<p><b>INTENT:</b> The intent of comment is to capture and authorise comments related to a proposal.</p>
<h1 class="contract">updateconfig </h1>
<h2><a class="anchor" id="autotoc_md66"></a>
ACTION: updateconfig</h2>
<p><b>PARAMETERS:</b></p><ul>
<li><b>new_config</b> is a config_type object to update the settings for the contract.</li>
</ul>
<p><b>INTENT:</b> The intent of updateconfig is to update the contract settings within the contract. The fields in the config object the their default values are:</p><ul>
<li>name service_account - The service account to manage the escrow funds for worker proposals.</li>
<li>name authority_account - The authority account to authorize actions in the all the connected contracts.</li>
<li>name treasury_account - The account that holds the DAC funds used for the source of funds for the escrow contract.</li>
<li>uint16_t proposal_threshold = 7 - The number of required votes to make a decision on approving a worker proposal submission.</li>
<li>uint16_t claim_threshold = 5 - The number of required votes to make a decision on approving a claim for a worker proposal.</li>
<li>uint32_t escrow_expiry = 30 days - The number of days an escrow is set to expire.</li>
<li>uint32_t approval_expiry = 30 days - The number of days before a worker proposal must be approved.</li>
</ul>
<p><b>TERM:</b> This action lasts for the duration of the time taken to process the transaction. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
