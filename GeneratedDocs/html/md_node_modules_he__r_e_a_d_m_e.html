<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EOSDAC: he &lt;a href=&quot;https://travis-ci.org/mathiasbynens/he&quot;&gt;&lt;img src=&quot;https://travis-ci.org/mathiasbynens/he.svg?branch=master&quot; alt=&quot;Build status&quot;/&gt;&lt;/a&gt; &lt;a href=&quot;https://codecov.io/github/mathiasbynens/he?branch=master&quot;&gt;&lt;img src=&quot;https://codecov.io/github/mathiasbynens/he/coverage.svg?branch=master&quot; alt=&quot;Code coverage status&quot;/&gt;&lt;/a&gt; &lt;a href=&quot;https://gemnasium.com/mathiasbynens/he&quot;&gt;&lt;img src=&quot;https://gemnasium.com/mathiasbynens/he.svg&quot; alt=&quot;Dependency status&quot;/&gt;&lt;/a&gt;</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EOSDAC
   </div>
   <div id="projectbrief">Open source decentralised DAC platform for EOSIO blockchains</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_node_modules_he__r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">he <a href="https://travis-ci.org/mathiasbynens/he"><img src="https://travis-ci.org/mathiasbynens/he.svg?branch=master" alt="Build status" style="pointer-events: none;" class="inline"/></a> <a href="https://codecov.io/github/mathiasbynens/he?branch=master"><img src="https://codecov.io/github/mathiasbynens/he/coverage.svg?branch=master" alt="Code coverage status" style="pointer-events: none;" class="inline"/></a> <a href="https://gemnasium.com/mathiasbynens/he"><img src="https://gemnasium.com/mathiasbynens/he.svg" alt="Dependency status" style="pointer-events: none;" class="inline"/></a> </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><em>he</em> (for ‚ÄúHTML entities‚Äù) is a robust HTML entity encoder/decoder written in JavaScript. It supports <a href="https://html.spec.whatwg.org/multipage/syntax.html#named-character-references">all standardized named character references as per HTML</a>, handles <a href="https://mathiasbynens.be/notes/ambiguous-ampersands">ambiguous ampersands</a> and other edge cases <a href="https://html.spec.whatwg.org/multipage/syntax.html#tokenizing-character-references">just like a browser would</a>, has an extensive test suite, and ‚Äî contrary to many other JavaScript solutions ‚Äî <em>he</em> handles astral Unicode symbols just fine. <a href="https://mothereff.in/html-entities">An online demo is available.</a></p>
<h1><a class="anchor" id="autotoc_md2099"></a>
Installation</h1>
<p>Via <a href="https://www.npmjs.com/">npm</a>:</p>
<div class="fragment"><div class="line">npm install he</div>
</div><!-- fragment --><p>Via <a href="http://bower.io/">Bower</a>:</p>
<div class="fragment"><div class="line">bower install he</div>
</div><!-- fragment --><p>Via <a href="https://github.com/component/component">Component</a>:</p>
<div class="fragment"><div class="line">component install mathiasbynens/he</div>
</div><!-- fragment --><p>In a browser:</p>
<div class="fragment"><div class="line">&lt;script src=&quot;he.js&quot;&gt;&lt;/script&gt;</div>
</div><!-- fragment --><p>In <a href="https://nodejs.org/">Node.js</a>, <a href="https://iojs.org/">io.js</a>, <a href="http://narwhaljs.org/">Narwhal</a>, and <a href="http://ringojs.org/">RingoJS</a>:</p>
<div class="fragment"><div class="line">var he = require(&#39;he&#39;);</div>
</div><!-- fragment --><p>In <a href="http://www.mozilla.org/rhino/">Rhino</a>:</p>
<div class="fragment"><div class="line">load(&#39;he.js&#39;);</div>
</div><!-- fragment --><p>Using an AMD loader like <a href="http://requirejs.org/">RequireJS</a>:</p>
<div class="fragment"><div class="line">require(</div>
<div class="line">  {</div>
<div class="line">    &#39;paths&#39;: {</div>
<div class="line">      &#39;he&#39;: &#39;path/to/he&#39;</div>
<div class="line">    }</div>
<div class="line">  },</div>
<div class="line">  [&#39;he&#39;],</div>
<div class="line">  function(he) {</div>
<div class="line">    console.log(he);</div>
<div class="line">  }</div>
<div class="line">);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2100"></a>
API</h1>
<h2><a class="anchor" id="autotoc_md2101"></a>
&lt;tt&gt;he.version&lt;/tt&gt;</h2>
<p>A string representing the semantic version number.</p>
<h2><a class="anchor" id="autotoc_md2102"></a>
&lt;tt&gt;he.encode(text, options)&lt;/tt&gt;</h2>
<p>This function takes a string of text and encodes (by default) any symbols that aren‚Äôt printable ASCII symbols and <code>&amp;</code>, <code>&lt;</code>, <code>&gt;</code>, <code>"</code>, &lsquo;&rsquo;<code>, and</code> ``, replacing them with character references.</p>
<div class="fragment"><div class="line">he.encode(&#39;foo ¬© bar ‚â† baz ùåÜ qux&#39;);</div>
<div class="line">// ‚Üí &#39;foo &amp;#xA9; bar &amp;#x2260; baz &amp;#x1D306; qux&#39;</div>
</div><!-- fragment --><p>As long as the input string contains <a href="https://html.spec.whatwg.org/multipage/parsing.html#preprocessing-the-input-stream">allowed code points</a> only, the return value of this function is always valid HTML. Any <a href="https://html.spec.whatwg.org/multipage/syntax.html#table-charref-overrides">(invalid) code points that cannot be represented using a character reference</a> in the input are not encoded:</p>
<div class="fragment"><div class="line">he.encode(&#39;foo \0 bar&#39;);</div>
<div class="line">// ‚Üí &#39;foo \0 bar&#39;</div>
</div><!-- fragment --><p>However, enabling <a href="https://github.com/mathiasbynens/he#strict">the <code>strict</code> option</a> causes invalid code points to throw an exception. With <code>strict</code> enabled, <code>he.encode</code> either throws (if the input contains invalid code points) or returns a string of valid HTML.</p>
<p>The <code>options</code> object is optional. It recognizes the following properties:</p>
<h3><a class="anchor" id="autotoc_md2103"></a>
&lt;tt&gt;useNamedReferences&lt;/tt&gt;</h3>
<p>The default value for the <code>useNamedReferences</code> option is <code>false</code>. This means that <code>encode()</code> will not use any named character references (e.g. <code>&copy;</code>) in the output ‚Äî hexadecimal escapes (e.g. <code>&amp;#xA9;</code>) will be used instead. Set it to <code>true</code> to enable the use of named references.</p>
<p><b>Note that if compatibility with older browsers is a concern, this option should remain disabled.</b></p>
<div class="fragment"><div class="line">// Using the global default setting (defaults to `false`):</div>
<div class="line">he.encode(&#39;foo ¬© bar ‚â† baz ùåÜ qux&#39;);</div>
<div class="line">// ‚Üí &#39;foo &amp;#xA9; bar &amp;#x2260; baz &amp;#x1D306; qux&#39;</div>
<div class="line"> </div>
<div class="line">// Passing an `options` object to `encode`, to explicitly disallow named references:</div>
<div class="line">he.encode(&#39;foo ¬© bar ‚â† baz ùåÜ qux&#39;, {</div>
<div class="line">  &#39;useNamedReferences&#39;: false</div>
<div class="line">});</div>
<div class="line">// ‚Üí &#39;foo &amp;#xA9; bar &amp;#x2260; baz &amp;#x1D306; qux&#39;</div>
<div class="line"> </div>
<div class="line">// Passing an `options` object to `encode`, to explicitly allow named references:</div>
<div class="line">he.encode(&#39;foo ¬© bar ‚â† baz ùåÜ qux&#39;, {</div>
<div class="line">  &#39;useNamedReferences&#39;: true</div>
<div class="line">});</div>
<div class="line">// ‚Üí &#39;foo &amp;copy; bar &amp;ne; baz &amp;#x1D306; qux&#39;</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md2104"></a>
&lt;tt&gt;decimal&lt;/tt&gt;</h3>
<p>The default value for the <code>decimal</code> option is <code>false</code>. If the option is enabled, <code>encode</code> will generally use decimal escapes (e.g. <code>&amp;#169;</code>) rather than hexadecimal escapes (e.g. <code>&amp;#xA9;</code>). Beside of this replacement, the basic behavior remains the same when combined with other options. For example: if both options <code>useNamedReferences</code> and <code>decimal</code> are enabled, named references (e.g. <code>&copy;</code>) are used over decimal escapes. HTML entities without a named reference are encoded using decimal escapes.</p>
<div class="fragment"><div class="line">// Using the global default setting (defaults to `false`):</div>
<div class="line">he.encode(&#39;foo ¬© bar ‚â† baz ùåÜ qux&#39;);</div>
<div class="line">// ‚Üí &#39;foo &amp;#xA9; bar &amp;#x2260; baz &amp;#x1D306; qux&#39;</div>
<div class="line"> </div>
<div class="line">// Passing an `options` object to `encode`, to explicitly disable decimal escapes:</div>
<div class="line">he.encode(&#39;foo ¬© bar ‚â† baz ùåÜ qux&#39;, {</div>
<div class="line">  &#39;decimal&#39;: false</div>
<div class="line">});</div>
<div class="line">// ‚Üí &#39;foo &amp;#xA9; bar &amp;#x2260; baz &amp;#x1D306; qux&#39;</div>
<div class="line"> </div>
<div class="line">// Passing an `options` object to `encode`, to explicitly enable decimal escapes:</div>
<div class="line">he.encode(&#39;foo ¬© bar ‚â† baz ùåÜ qux&#39;, {</div>
<div class="line">  &#39;decimal&#39;: true</div>
<div class="line">});</div>
<div class="line">// ‚Üí &#39;foo &amp;#169; bar &amp;#8800; baz &amp;#119558; qux&#39;</div>
<div class="line"> </div>
<div class="line">// Passing an `options` object to `encode`, to explicitly allow named references and decimal escapes:</div>
<div class="line">he.encode(&#39;foo ¬© bar ‚â† baz ùåÜ qux&#39;, {</div>
<div class="line">  &#39;useNamedReferences&#39;: true,</div>
<div class="line">  &#39;decimal&#39;: true</div>
<div class="line">});</div>
<div class="line">// ‚Üí &#39;foo &amp;copy; bar &amp;ne; baz &amp;#119558; qux&#39;</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md2105"></a>
&lt;tt&gt;encodeEverything&lt;/tt&gt;</h3>
<p>The default value for the <code>encodeEverything</code> option is <code>false</code>. This means that <code>encode()</code> will not use any character references for printable ASCII symbols that don‚Äôt need escaping. Set it to <code>true</code> to encode every symbol in the input string. When set to <code>true</code>, this option takes precedence over <code>allowUnsafeSymbols</code> (i.e. setting the latter to <code>true</code> in such a case has no effect).</p>
<div class="fragment"><div class="line">// Using the global default setting (defaults to `false`):</div>
<div class="line">he.encode(&#39;foo ¬© bar ‚â† baz ùåÜ qux&#39;);</div>
<div class="line">// ‚Üí &#39;foo &amp;#xA9; bar &amp;#x2260; baz &amp;#x1D306; qux&#39;</div>
<div class="line"> </div>
<div class="line">// Passing an `options` object to `encode`, to explicitly encode all symbols:</div>
<div class="line">he.encode(&#39;foo ¬© bar ‚â† baz ùåÜ qux&#39;, {</div>
<div class="line">  &#39;encodeEverything&#39;: true</div>
<div class="line">});</div>
<div class="line">// ‚Üí &#39;&amp;#x66;&amp;#x6F;&amp;#x6F;&amp;#x20;&amp;#xA9;&amp;#x20;&amp;#x62;&amp;#x61;&amp;#x72;&amp;#x20;&amp;#x2260;&amp;#x20;&amp;#x62;&amp;#x61;&amp;#x7A;&amp;#x20;&amp;#x1D306;&amp;#x20;&amp;#x71;&amp;#x75;&amp;#x78;&#39;</div>
<div class="line"> </div>
<div class="line">// This setting can be combined with the `useNamedReferences` option:</div>
<div class="line">he.encode(&#39;foo ¬© bar ‚â† baz ùåÜ qux&#39;, {</div>
<div class="line">  &#39;encodeEverything&#39;: true,</div>
<div class="line">  &#39;useNamedReferences&#39;: true</div>
<div class="line">});</div>
<div class="line">// ‚Üí &#39;&amp;#x66;&amp;#x6F;&amp;#x6F;&amp;#x20;&amp;copy;&amp;#x20;&amp;#x62;&amp;#x61;&amp;#x72;&amp;#x20;&amp;ne;&amp;#x20;&amp;#x62;&amp;#x61;&amp;#x7A;&amp;#x20;&amp;#x1D306;&amp;#x20;&amp;#x71;&amp;#x75;&amp;#x78;&#39;</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md2106"></a>
&lt;tt&gt;strict&lt;/tt&gt;</h3>
<p>The default value for the <code>strict</code> option is <code>false</code>. This means that <code>encode()</code> will encode any HTML text content you feed it, even if it contains any symbols that cause <a href="https://html.spec.whatwg.org/multipage/parsing.html#preprocessing-the-input-stream">parse errors</a>. To throw an error when such invalid HTML is encountered, set the <code>strict</code> option to <code>true</code>. This option makes it possible to use <em>he</em> as part of HTML parsers and HTML validators.</p>
<div class="fragment"><div class="line">// Using the global default setting (defaults to `false`, i.e. error-tolerant mode):</div>
<div class="line">he.encode(&#39;\x01&#39;);</div>
<div class="line">// ‚Üí &#39;&amp;#x1;&#39;</div>
<div class="line"> </div>
<div class="line">// Passing an `options` object to `encode`, to explicitly enable error-tolerant mode:</div>
<div class="line">he.encode(&#39;\x01&#39;, {</div>
<div class="line">  &#39;strict&#39;: false</div>
<div class="line">});</div>
<div class="line">// ‚Üí &#39;&amp;#x1;&#39;</div>
<div class="line"> </div>
<div class="line">// Passing an `options` object to `encode`, to explicitly enable strict mode:</div>
<div class="line">he.encode(&#39;\x01&#39;, {</div>
<div class="line">  &#39;strict&#39;: true</div>
<div class="line">});</div>
<div class="line">// ‚Üí Parse error</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md2107"></a>
&lt;tt&gt;allowUnsafeSymbols&lt;/tt&gt;</h3>
<p>The default value for the <code>allowUnsafeSymbols</code> option is <code>false</code>. This means that characters that are unsafe for use in HTML content (<code>&amp;</code>, <code>&lt;</code>, <code>&gt;</code>, <code>"</code>, &lsquo;&rsquo;<code>, and</code> `<code>) will be encoded. When set to</code>true<code>, only non-ASCII characters will be encoded. If the</code>encodeEverything<code>option is set to</code>true`, this option will be ignored.</p>
<div class="fragment"><div class="line">he.encode(&#39;foo ¬© and &amp; ampersand&#39;, {</div>
<div class="line">  &#39;allowUnsafeSymbols&#39;: true</div>
<div class="line">});</div>
<div class="line">// ‚Üí &#39;foo &amp;#xA9; and &amp; ampersand&#39;</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md2108"></a>
Overriding default &lt;tt&gt;encode&lt;/tt&gt; options globally</h3>
<p>The global default setting can be overridden by modifying the <code>he.encode.options</code> object. This saves you from passing in an <code>options</code> object for every call to <code>encode</code> if you want to use the non-default setting.</p>
<div class="fragment"><div class="line">// Read the global default setting:</div>
<div class="line">he.encode.options.useNamedReferences;</div>
<div class="line">// ‚Üí `false` by default</div>
<div class="line"> </div>
<div class="line">// Override the global default setting:</div>
<div class="line">he.encode.options.useNamedReferences = true;</div>
<div class="line"> </div>
<div class="line">// Using the global default setting, which is now `true`:</div>
<div class="line">he.encode(&#39;foo ¬© bar ‚â† baz ùåÜ qux&#39;);</div>
<div class="line">// ‚Üí &#39;foo &amp;copy; bar &amp;ne; baz &amp;#x1D306; qux&#39;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2109"></a>
&lt;tt&gt;he.decode(html, options)&lt;/tt&gt;</h2>
<p>This function takes a string of HTML and decodes any named and numerical character references in it using <a href="https://html.spec.whatwg.org/multipage/syntax.html#tokenizing-character-references">the algorithm described in section 12.2.4.69 of the HTML spec</a>.</p>
<div class="fragment"><div class="line">he.decode(&#39;foo &amp;copy; bar &amp;ne; baz &amp;#x1D306; qux&#39;);</div>
<div class="line">// ‚Üí &#39;foo ¬© bar ‚â† baz ùåÜ qux&#39;</div>
</div><!-- fragment --><p>The <code>options</code> object is optional. It recognizes the following properties:</p>
<h3><a class="anchor" id="autotoc_md2110"></a>
&lt;tt&gt;isAttributeValue&lt;/tt&gt;</h3>
<p>The default value for the <code>isAttributeValue</code> option is <code>false</code>. This means that <code>decode()</code> will decode the string as if it were used in <a href="https://html.spec.whatwg.org/multipage/syntax.html#data-state">a text context in an HTML document</a>. HTML has different rules for <a href="https://html.spec.whatwg.org/multipage/syntax.html#character-reference-in-attribute-value-state">parsing character references in attribute values</a> ‚Äî set this option to <code>true</code> to treat the input string as if it were used as an attribute value.</p>
<div class="fragment"><div class="line">// Using the global default setting (defaults to `false`, i.e. HTML text context):</div>
<div class="line">he.decode(&#39;foo&amp;ampbar&#39;);</div>
<div class="line">// ‚Üí &#39;foo&amp;bar&#39;</div>
<div class="line"> </div>
<div class="line">// Passing an `options` object to `decode`, to explicitly assume an HTML text context:</div>
<div class="line">he.decode(&#39;foo&amp;ampbar&#39;, {</div>
<div class="line">  &#39;isAttributeValue&#39;: false</div>
<div class="line">});</div>
<div class="line">// ‚Üí &#39;foo&amp;bar&#39;</div>
<div class="line"> </div>
<div class="line">// Passing an `options` object to `decode`, to explicitly assume an HTML attribute value context:</div>
<div class="line">he.decode(&#39;foo&amp;ampbar&#39;, {</div>
<div class="line">  &#39;isAttributeValue&#39;: true</div>
<div class="line">});</div>
<div class="line">// ‚Üí &#39;foo&amp;ampbar&#39;</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md2111"></a>
&lt;tt&gt;strict&lt;/tt&gt;</h3>
<p>The default value for the <code>strict</code> option is <code>false</code>. This means that <code>decode()</code> will decode any HTML text content you feed it, even if it contains any entities that cause <a href="https://html.spec.whatwg.org/multipage/syntax.html#tokenizing-character-references">parse errors</a>. To throw an error when such invalid HTML is encountered, set the <code>strict</code> option to <code>true</code>. This option makes it possible to use <em>he</em> as part of HTML parsers and HTML validators.</p>
<div class="fragment"><div class="line">// Using the global default setting (defaults to `false`, i.e. error-tolerant mode):</div>
<div class="line">he.decode(&#39;foo&amp;ampbar&#39;);</div>
<div class="line">// ‚Üí &#39;foo&amp;bar&#39;</div>
<div class="line"> </div>
<div class="line">// Passing an `options` object to `decode`, to explicitly enable error-tolerant mode:</div>
<div class="line">he.decode(&#39;foo&amp;ampbar&#39;, {</div>
<div class="line">  &#39;strict&#39;: false</div>
<div class="line">});</div>
<div class="line">// ‚Üí &#39;foo&amp;bar&#39;</div>
<div class="line"> </div>
<div class="line">// Passing an `options` object to `decode`, to explicitly enable strict mode:</div>
<div class="line">he.decode(&#39;foo&amp;ampbar&#39;, {</div>
<div class="line">  &#39;strict&#39;: true</div>
<div class="line">});</div>
<div class="line">// ‚Üí Parse error</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md2112"></a>
Overriding default &lt;tt&gt;decode&lt;/tt&gt; options globally</h3>
<p>The global default settings for the <code>decode</code> function can be overridden by modifying the <code>he.decode.options</code> object. This saves you from passing in an <code>options</code> object for every call to <code>decode</code> if you want to use a non-default setting.</p>
<div class="fragment"><div class="line">// Read the global default setting:</div>
<div class="line">he.decode.options.isAttributeValue;</div>
<div class="line">// ‚Üí `false` by default</div>
<div class="line"> </div>
<div class="line">// Override the global default setting:</div>
<div class="line">he.decode.options.isAttributeValue = true;</div>
<div class="line"> </div>
<div class="line">// Using the global default setting, which is now `true`:</div>
<div class="line">he.decode(&#39;foo&amp;ampbar&#39;);</div>
<div class="line">// ‚Üí &#39;foo&amp;ampbar&#39;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2113"></a>
&lt;tt&gt;he.escape(text)&lt;/tt&gt;</h2>
<p>This function takes a string of text and escapes it for use in text contexts in XML or HTML documents. Only the following characters are escaped: <code>&amp;</code>, <code>&lt;</code>, <code>&gt;</code>, <code>"</code>, &lsquo;&rsquo;<code>, and</code> ``.</p>
<div class="fragment"><div class="line">he.escape(&#39;&lt;img src=\&#39;x\&#39; onerror=&quot;prompt(1)&quot;&gt;&#39;);</div>
<div class="line">// ‚Üí &#39;&amp;lt;img src=&amp;#x27;x&amp;#x27; onerror=&amp;quot;prompt(1)&amp;quot;&amp;gt;&#39;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2114"></a>
&lt;tt&gt;he.unescape(html, options)&lt;/tt&gt;</h2>
<p><code>he.unescape</code> is an alias for <code>he.decode</code>. It takes a string of HTML and decodes any named and numerical character references in it.</p>
<h2><a class="anchor" id="autotoc_md2115"></a>
Using the &lt;tt&gt;he&lt;/tt&gt; binary</h2>
<p>To use the <code>he</code> binary in your shell, simply install <em>he</em> globally using npm:</p>
<div class="fragment"><div class="line">npm install -g he</div>
</div><!-- fragment --><p>After that you will be able to encode/decode HTML entities from the command line:</p>
<div class="fragment"><div class="line">$ he --encode &#39;f√∂o ‚ô• b√•r ùåÜ baz&#39;</div>
<div class="line">f&amp;#xF6;o &amp;#x2665; b&amp;#xE5;r &amp;#x1D306; baz</div>
<div class="line"> </div>
<div class="line">$ he --encode --use-named-refs &#39;f√∂o ‚ô• b√•r ùåÜ baz&#39;</div>
<div class="line">f&amp;ouml;o &amp;hearts; b&amp;aring;r &amp;#x1D306; baz</div>
<div class="line"> </div>
<div class="line">$ he --decode &#39;f&amp;ouml;o &amp;hearts; b&amp;aring;r &amp;#x1D306; baz&#39;</div>
<div class="line">f√∂o ‚ô• b√•r ùåÜ baz</div>
</div><!-- fragment --><p>Read a local text file, encode it for use in an HTML text context, and save the result to a new file:</p>
<div class="fragment"><div class="line">$ he --encode &lt; foo.txt &gt; foo-escaped.html</div>
</div><!-- fragment --><p>Or do the same with an online text file:</p>
<div class="fragment"><div class="line">$ curl -sL &quot;http://git.io/HnfEaw&quot; | he --encode &gt; escaped.html</div>
</div><!-- fragment --><p>Or, the opposite ‚Äî read a local file containing a snippet of HTML in a text context, decode it back to plain text, and save the result to a new file:</p>
<div class="fragment"><div class="line">$ he --decode &lt; foo-escaped.html &gt; foo.txt</div>
</div><!-- fragment --><p>Or do the same with an online HTML snippet:</p>
<div class="fragment"><div class="line">$ curl -sL &quot;http://git.io/HnfEaw&quot; | he --decode &gt; decoded.txt</div>
</div><!-- fragment --><p>See <code>he --help</code> for the full list of options.</p>
<h1><a class="anchor" id="autotoc_md2116"></a>
Support</h1>
<p><em>he</em> has been tested in at least:</p>
<ul>
<li>Chrome 27-50</li>
<li>Firefox 3-45</li>
<li>Safari 4-9</li>
<li>Opera 10-12, 15‚Äì37</li>
<li>IE 6‚Äì11</li>
<li>Edge</li>
<li>Narwhal 0.3.2</li>
<li>Node.js v0.10, v0.12, v4, v5</li>
<li>PhantomJS 1.9.0</li>
<li>Rhino 1.7RC4</li>
<li>RingoJS 0.8-0.11</li>
</ul>
<h1><a class="anchor" id="autotoc_md2117"></a>
Unit tests &amp; code coverage</h1>
<p>After cloning this repository, run <code>npm install</code> to install the dependencies needed for he development and testing. You may want to install Istanbul <em>globally</em> using <code>npm install istanbul -g</code>.</p>
<p>Once that‚Äôs done, you can run the unit tests in Node using <code>npm test</code> or <code>node tests/tests.js</code>. To run the tests in Rhino, Ringo, Narwhal, and web browsers as well, use <code>grunt test</code>.</p>
<p>To generate the code coverage report, use <code>grunt cover</code>.</p>
<h1><a class="anchor" id="autotoc_md2118"></a>
Acknowledgements</h1>
<p>Thanks to <a href="https://simon.html5.org/">Simon Pieters</a> (<a href="https://twitter.com/zcorpan">@zcorpan</a>) for the many suggestions.</p>
<h1><a class="anchor" id="autotoc_md2119"></a>
Author</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"><a href="https://twitter.com/mathias" title="Follow @mathias on Twitter"><img src="https://gravatar.com/avatar/24e08a9ea84deb17ae121074d0f17125?s=70" alt="twitter/mathias" class="inline"/></a>  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a href="https://mathiasbynens.be/">Mathias Bynens</a>  </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md2120"></a>
License</h1>
<p><em>he</em> is available under the <a href="https://mths.be/mit">MIT</a> license. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
